<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BinMan - AI-Powered Waste Management</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth-styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Three.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.min.js"></script>
    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <!-- Chart.js library - using specific version -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Navbar -->
    <nav id="navbar">
        <div class="container">
            <div class="logo">
                <img src="Binman_logo-removebg-preview.png" alt="BinMan Logo" class="nav-logo">
                <a href="index.html">BinMan</a>
            </div>
            <div class="nav-links">
                <a href="index.html" class="active">Home</a>
                <a href="download.html">Download</a>
                <a href="partners.html">Partners</a>
            </div>
            <div class="auth-buttons">
                <button class="login-btn" id="loginBtn">Login</button>
                <button class="signup-btn" id="signupBtn">Sign Up</button>
                <div class="user-profile" id="userProfile">
                    <div class="user-avatar" id="userAvatar"></div>
                    <span class="user-name" id="userName"></span>
                    <div class="user-dropdown">
                        <i class="fas fa-chevron-down"></i>
                        <div class="dropdown-content">
                            <div class="dropdown-item">
                                <i class="fas fa-user"></i> My Profile
                            </div>
                            <div class="dropdown-item">
                                <i class="fas fa-cog"></i> Settings
                            </div>
                            <div class="dropdown-item">
                                <i class="fas fa-chart-line"></i> My Impact
                            </div>
                            <div class="dropdown-item logout-btn" id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Login/Signup Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-container">
            <div class="auth-header">
                <h2 id="modalTitle">Welcome Back</h2>
                <button class="close-modal"><i class="fas fa-times"></i></button>
            </div>
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="signup">Sign Up</div>
            </div>
            
            <div class="auth-content">
                <!-- Login Form -->
                <form class="auth-form active" id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail"></label>
                        <input type="email" id="loginEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword"></label>
                        <input type="password" id="loginPassword" placeholder="Enter your password" required>
                        <button type="button" class="password-toggle" id="loginPasswordToggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    
                    <div class="auth-options">
                        <div class="remember-me">
                            <input type="checkbox" id="rememberLogin">
                            <label for="rememberLogin">Remember me</label>
                        </div>
                        <a href="#" class="forgot-password">Forgot Password?</a>
                    </div>
                    
                    <div class="auth-error" id="loginError"></div>
                    <div class="auth-success" id="loginSuccess"></div>
                    
                    <button type="submit" class="auth-submit">Login</button>
                    
                    <div class="social-login">
                        <div class="social-login-title">
                            <span>Or continue with</span>
                        </div>
                        <div class="social-buttons">
                            <button type="button" class="social-button google" data-provider="google">
                                <i class="fab fa-google"></i> Google
                            </button>
                            <button type="button" class="social-button facebook" data-provider="facebook">
                                <i class="fab fa-facebook-f"></i> Facebook
                            </button>
                        </div>
                    </div>
                    
                    <div class="auth-footer">
                        <p>Don't have an account? <span class="tab-switch" data-tab="signup">Sign Up</span></p>
                    </div>
                </form>
                
                <!-- Signup Form -->
                <form class="auth-form" id="signupForm">
                    <div class="form-group">
                        <label for="signupName"></label>
                        <input type="text" id="signupName" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail"></label>
                        <input type="email" id="signupEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword"></label>
                        <input type="password" id="signupPassword" placeholder="Choose a password" required>
                        <button type="button" class="password-toggle" id="signupPasswordToggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    
                    <div class="auth-error" id="signupError"></div>
                    <div class="auth-success" id="signupSuccess"></div>
                    
                    <button type="submit" class="auth-submit">Create Account</button>
                    
                    <div class="social-login">
                        <div class="social-login-title">
                            <span>Or sign up with</span>
                        </div>
                        <div class="social-buttons">
                            <button type="button" class="social-button google" data-provider="google">
                                <i class="fab fa-google"></i> Google
                            </button>
                            <button type="button" class="social-button facebook" data-provider="facebook">
                                <i class="fab fa-facebook-f"></i> Facebook
                            </button>
                        </div>
                    </div>
                    
                    <div class="auth-footer">
                        <p>Already have an account? <span class="tab-switch" data-tab="login">Login</span></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="hero">
        <div class="carousel-container">
            <div class="carousel">
                <div class="carousel-slide active">
                    <img src="https://images.unsplash.com/photo-1532996122724-e3c354a0b15b" alt="Clean City">
                </div>
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1604187351574-c75ca79f5807" alt="Recycling">
                </div>
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1611284446314-60a58ac0deb9" alt="Sustainable Future">
                </div>
            </div>
            <div class="carousel-nav">
                <button class="prev"><i class="fas fa-chevron-left"></i></button>
                <button class="next"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="carousel-dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
            </div>
        </div>
        <div class="hero-content">
            <h1>Revolutionizing Waste. Empowering Communities.</h1>
            <p>Smart, AI-powered waste management for a cleaner tomorrow.</p>
            <div class="cta-buttons">
                <a href="join.html" class="btn btn-primary">Join the Movement</a>
                <a href="how-it-works.html" class="btn btn-outline">How It Works</a>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="section">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step" data-step="1">
                    <div class="step-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3>Take a photo</h3>
                    <p>Simply snap a picture of your waste items using our app</p>
                </div>
                <div class="step" data-step="2">
                    <div class="step-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI Detection</h3>
                    <p>Our AI instantly identifies the type of waste</p>
                </div>
                <div class="step" data-step="3">
                    <div class="step-icon">
                        <i class="fas fa-recycle"></i>
                    </div>
                    <h3>Choose Action</h3>
                    <p>Compost, donate, sell, or find the right recycling method</p>
                </div>
                <div class="step" data-step="4">
                    <div class="step-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h3>Earn Rewards</h3>
                    <p>Get points for every eco-friendly action you take</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section class="container section" id="experience">
            <h2 class="section-title">Experience Our Mobile App</h2>
            
            <div class="model-container">
            <div id="threed-trash-can">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading 3D model...</p>
                </div>
                <!-- 3D model will be rendered here -->
            </div>
            
                <div class="model-instructions">
                    <div class="instruction">
                    <i class="fas fa-mouse-pointer"></i>
                    <span>Click to interact</span>
                    </div>
                    <div class="instruction">
                    <i class="fas fa-hand-pointer"></i>
                        <span>Drag to rotate</span>
                    </div>
                    <div class="instruction">
                        <i class="fas fa-search-plus"></i>
                        <span>Scroll to zoom</span>
                </div>
            </div>
            </div>
        </section>

    <!-- Rewards & Impact Section -->
    <section id="impact" class="section">
            <div class="container">
            <h2 class="section-title">Our Impact</h2>
            <div class="impact-container">
                <div class="impact-stats">
                    <div class="stat">
                        <div class="stat-icon">
                            <i class="fas fa-recycle"></i>
                        </div>
                        <div class="stat-number" data-count="12500">11,500</div>
                        <div class="stat-label">Kg of Waste Diverted</div>
                    </div>
                    <div class="stat">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-number" data-count="8450">500</div>
                        <div class="stat-label">Active Users</div>
                    </div>
                    <div class="stat">
                        <div class="stat-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="stat-number" data-count="32">32%</div>
                        <div class="stat-label">Plastic Recycling Rate</div>
                    </div>
                </div>
                
                <!-- Standalone Chart Containers -->
                <div class="standalone-charts">
                    <!-- Waste Reduction Chart -->
                    <div class="standalone-chart">
                        <h3>Waste Reduction Over 12 Months</h3>
                        <div class="chart-panel">
                            <canvas id="standaloneWasteChart" width="400" height="280"></canvas>
                            <!-- Fallback image if chart doesn't render -->
                            <img src="https://quickchart.io/chart?c={type:'line',data:{labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],datasets:[{label:'Waste Reduction (kg)',data:[850,1200,1850,2400,3100,4200,5700,7200,8600,9800,11200,12500],fill:true,backgroundColor:'rgba(60,179,113,0.2)',borderColor:'rgb(60,179,113)'}]}}" 
                                alt="Waste Reduction Chart" 
                                class="fallback-chart"
                                width="400" height="280">
                        </div>
                        <script>
                            document.addEventListener('DOMContentLoaded', function() {
                                try {
                                    const ctx = document.getElementById('standaloneWasteChart').getContext('2d');
                                    new Chart(ctx, {
                                        type: 'line',
                                        data: {
                                            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                                            datasets: [{
                                                label: 'Waste Reduction (kg)',
                                                data: [850, 1200, 1850, 2400, 3100, 4200, 5700, 7200, 8600, 9800, 11200, 12500],
                                                backgroundColor: 'rgba(60, 179, 113, 0.2)',
                                                borderColor: 'rgba(60, 179, 113, 1)',
                                                borderWidth: 3,
                                                pointBackgroundColor: '#fff',
                                                pointBorderColor: 'rgba(60, 179, 113, 1)',
                                                pointBorderWidth: 2,
                                                pointRadius: 4,
                                                pointHoverRadius: 6,
                                                fill: true,
                                                tension: 0.3
                                            }]
                                        },
                                        options: {
                                            responsive: true,
                                            maintainAspectRatio: false,
                                            scales: {
                                                y: {
                                                    beginAtZero: true,
                                                    ticks: {
                                                        callback: function(value) {
                                                            return value >= 1000 ? value/1000 + 'k' : value;
                                                        }
                                                    }
                                                }
                                            },
                                            plugins: {
                                                legend: {
                                                    display: false
                                                }
                                            }
                                        }
                                    });
                                    // Hide fallback if chart renders
                                    document.querySelector('.fallback-chart').style.display = 'none';
                                } catch (e) {
                                    console.error('Chart rendering failed:', e);
                                    // Make sure fallback is visible
                                    document.querySelector('.fallback-chart').style.display = 'block';
                                }
                            });
                        </script>
                    </div>

                    <!-- Waste Distribution Chart -->
                    <div class="standalone-chart">
                        <h3>Waste Stream Distribution</h3>
                        <div class="chart-panel">
                            <div id="distribution-chart-container" style="height: 280px; width: 100%; position: relative;">
                                <!-- Static SVG Fallback that will show if all JS fails -->
                                <div class="static-fallback" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 80; background: white; text-align: center;">
                                    <div style="width: 250px; height: 250px; margin: 0 auto; position: relative;">
                                        <!-- Simple SVG chart fallback -->
                                        <svg viewBox="0 0 100 100" style="width: 100%; height: 100%;">
                                            <circle cx="50" cy="50" r="45" fill="none" stroke="#eee" stroke-width="10" />
                                            <!-- Recycled Plastic 32% -->
                                            <circle cx="50" cy="50" r="45" fill="none" stroke="#2ecc71" stroke-width="10" 
                                                stroke-dasharray="201.1 301.6" stroke-dashoffset="0" transform="rotate(-90 50 50)" />
                                            <!-- Recycled Paper 28% -->
                                            <circle cx="50" cy="50" r="45" fill="none" stroke="#3498db" stroke-width="10" 
                                                stroke-dasharray="176.0 301.6" stroke-dashoffset="-201.1" transform="rotate(-90 50 50)" />
                                            <!-- Composted 22% -->
                                            <circle cx="50" cy="50" r="45" fill="none" stroke="#9b59b6" stroke-width="10" 
                                                stroke-dasharray="138.2 301.6" stroke-dashoffset="-377.1" transform="rotate(-90 50 50)" />
                                            <!-- Repurposed 12% -->
                                            <circle cx="50" cy="50" r="45" fill="none" stroke="#f1c40f" stroke-width="10" 
                                                stroke-dasharray="75.4 301.6" stroke-dashoffset="-515.3" transform="rotate(-90 50 50)" />
                                            <!-- Donated 6% -->
                                            <circle cx="50" cy="50" r="45" fill="none" stroke="#e67e22" stroke-width="10" 
                                                stroke-dasharray="37.7 301.6" stroke-dashoffset="-590.7" transform="rotate(-90 50 50)" />
                                            <!-- Center cutout -->
                                            <circle cx="50" cy="50" r="30" fill="white" />
                                        </svg>
                                        <!-- Legend -->
                                        <div style="position: absolute; bottom: -30px; left: 0; width: 100%; text-align: center;">
                                            <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #2ecc71; margin: 0 5px;"></span>
                                            <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #3498db; margin: 0 5px;"></span>
                                            <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #9b59b6; margin: 0 5px;"></span>
                                            <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #f1c40f; margin: 0 5px;"></span>
                                            <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #e67e22; margin: 0 5px;"></span>
                                        </div>
                                    </div>
                                </div>
                                
                                <canvas id="standaloneImpactChart" width="400" height="280"></canvas>
                                <!-- Fallback image if chart doesn't render -->
                                <img src="https://quickchart.io/chart?c={type:'doughnut',data:{labels:['Recycled Plastic','Recycled Paper','Composted','Repurposed Materials','Donated Items'],datasets:[{data:[32,28,22,12,6],backgroundColor:['rgba(46,204,113,0.8)','rgba(52,152,219,0.8)','rgba(155,89,182,0.8)','rgba(241,196,15,0.8)','rgba(230,126,34,0.8)']}]}}" 
                                    alt="Waste Stream Distribution Chart" 
                                    class="fallback-chart distribution-fallback"
                                    width="400" height="280">
                            </div>
                        </div>
                        
                        <!-- Direct inline chart implementation for maximum reliability -->
                        <script>
                            // Execute this code immediately
                            (function() {
                                try {
                                    // Create and render the doughnut chart immediately
                                    const canvas = document.getElementById('standaloneImpactChart');
                                    const ctx = canvas.getContext('2d');
                                    
                                    if (!ctx) {
                                        throw new Error('Could not get 2d context from canvas');
                                    }
                                    
                                    // Simple version with minimal options for reliability
                                    new Chart(ctx, {
                                        type: 'doughnut',
                                        data: {
                                            labels: ['Recycled Plastic', 'Recycled Paper', 'Composted', 'Repurposed', 'Donated'],
                                            datasets: [{
                                                data: [32, 28, 22, 12, 6],
                                                backgroundColor: [
                                                    '#2ecc71', // Bright green
                                                    '#3498db', // Blue
                                                    '#9b59b6', // Purple
                                                    '#f1c40f', // Yellow
                                                    '#e67e22'  // Orange
                                                ],
                                                borderWidth: 0
                                            }]
                                        },
                                        options: {
                                            responsive: true,
                                            maintainAspectRatio: false
                                        }
                                    });
                                    
                                    // Hide the fallback elements
                                    document.querySelector('.distribution-fallback').style.display = 'none';
                                    document.querySelector('.static-fallback').style.display = 'none';
                                    console.log('Distribution chart created successfully (inline)');
                                } catch (err) {
                                    console.error('Inline distribution chart creation failed:', err);
                                    // Show the fallback image
                                    document.querySelector('.distribution-fallback').style.display = 'block';
                                    document.querySelector('.static-fallback').style.display = 'none';
                                }
                            })();
                        </script>
                    </div>
                </div>
                
                <div class="impact-highlights">
                    <div class="highlight">
                        <div class="highlight-icon">
                            <i class="fas fa-tree"></i>
                        </div>
                        <div class="highlight-text">
                            <h4>Environmental Impact</h4>
                            <p>Equivalent to saving 785 trees through paper recycling</p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="highlight-icon">
                            <i class="fas fa-globe-americas"></i>
                        </div>
                        <div class="highlight-text">
                            <h4>Carbon Reduction</h4>
                            <p>3.2 tons of CO2 emissions prevented in just one year</p>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="section">
            <div class="container">
            <h2 class="section-title">What Our Users Say</h2>
            <div class="testimonial-container">
                <div class="testimonial-slider">
                    <div class="testimonial">
                        <div class="testimonial-text">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"BinMan changed how I think about waste! I've earned over 10,000KSH in rewards just by recycling properly. The app makes it so simple to know exactly what to do with each item."</p>
                            </div>
                        <div class="testimonial-author">
                            <img src="angelica.JPG" alt="Angelica K.">
                            <div class="author-info">
                                <h4>Angelica K.</h4>
                                <p>BinMan User</p>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-text">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"The AI recognition is amazing. No more confusion about what goes where - it just works! It's saved me countless hours of sorting and helped reduce my environmental footprint significantly."</p>
                                    </div>
                        <div class="testimonial-author">
                            <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="David K.">
                            <div class="author-info">
                                <h4>David K.</h4>
                                <p>BinMan User</p>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-text">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"Our neighborhood has reduced landfill waste by 35% since we started using BinMan collectively. The community features have really brought us together for a common environmental cause."</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Maria J.">
                            <div class="author-info">
                                <h4>Maria J.</h4>
                                <p>Community Leader</p>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-text">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"As a restaurant owner, BinMan has revolutionized our waste management. We've cut disposal costs by 40% and earned recognition as an eco-friendly business in our community."</p>
                </div>
                        <div class="testimonial-author">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Robert T.">
                            <div class="author-info">
                                <h4>Robert T.</h4>
                                <p>Business Owner</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-text">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"I've tried many waste management apps, but BinMan is in a league of its own. The integration with local recycling facilities ensures my items actually get recycled properly."</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="https://randomuser.me/api/portraits/women/22.jpg" alt="Jennifer L.">
                            <div class="author-info">
                                <h4>Jennifer L.</h4>
                                <p>Environmental Activist</p>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="testimonial-nav prev-testimonial">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="testimonial-nav next-testimonial">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="testimonial-dots">
                    <span class="dot active" data-slide="0"></span>
                    <span class="dot" data-slide="1"></span>
                    <span class="dot" data-slide="2"></span>
                    <span class="dot" data-slide="3"></span>
                    <span class="dot" data-slide="4"></span>
                </div>
                </div>
            </div>
        </section>

    <!-- CTA Section -->
    <section id="cta" class="section">
            <div class="container">
            <h2>Become a BinMan Hero Today</h2>
            <p>Join thousands making a difference in their communities.</p>
            <a href="signup.html" class="btn btn-cta">Get Started Now</a>
            </div>
        </section>

    <!-- Footer -->
    <footer>
        <div class="container">
        <div class="footer-content">
                <div class="footer-about">
                    <h3>BinMan</h3>
                    <p>Revolutionizing waste management through AI technology and community engagement.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="download.html">Download</a></li>
                    <li><a href="partners.html">Partners</a></li>
                </ul>
            </div>
                <div class="footer-links">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
                <div class="footer-newsletter">
                    <h4>Stay Updated</h4>
                    <p>Subscribe to our newsletter for the latest updates.</p>
                    <form>
                        <input type="email" placeholder="Your email">
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </form>
                </div>
            </div>
        <div class="footer-bottom">
                <p>&copy; 2023 BinMan. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Chat Bubble -->
    <div class="chat-bubble">
        <i class="fas fa-comment-dots"></i>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            offset: 100,
            once: true
        });
    </script>
    <script src="script.js"></script>
    <script src="3d-model.js"></script>
    <script src="auth.js"></script>
    
    <!-- Force chart initialization - only for the standalone charts -->
    <script>
        window.addEventListener('load', function() {
            console.log('Window loaded - forcing standalone chart initialization');
            
            // Refresh standalone charts if needed
            try {
                // Try initializing first standalone chart again
                const wasteChartCtx = document.getElementById('standaloneWasteChart').getContext('2d');
                if (wasteChartCtx) {
                    console.log('Refreshing waste reduction chart');
                    new Chart(wasteChartCtx, {
                        type: 'line',
                        data: {
                            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                            datasets: [{
                                label: 'Waste Reduction (kg)',
                                data: [850, 1200, 1850, 2400, 3100, 4200, 5700, 7200, 8600, 9800, 11200, 12500],
                                backgroundColor: 'rgba(60, 179, 113, 0.2)',
                                borderColor: 'rgba(60, 179, 113, 1)',
                                borderWidth: 3,
                                pointBackgroundColor: '#fff',
                                pointBorderColor: 'rgba(60, 179, 113, 1)',
                                pointBorderWidth: 2,
                                pointRadius: 4,
                                pointHoverRadius: 6,
                                fill: true,
                                tension: 0.3
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: function(value) {
                                            return value >= 1000 ? value/1000 + 'k' : value;
                                        }
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    display: false
                                }
                            }
                        }
                    });
                }
                
                // Create a fallback distribution chart in case the original one failed
                if (!document.getElementById('standaloneImpactChart') || 
                    document.querySelector('.distribution-fallback').style.display !== 'none') {
                    console.log('Original distribution chart appears to have failed, creating backup');
                    
                    // Create a new canvas element
                    const backupContainer = document.getElementById('distribution-chart-container');
                    if (backupContainer) {
                        const backupCanvas = document.createElement('canvas');
                        backupCanvas.id = 'backupDistributionChart';
                        backupCanvas.width = 400;
                        backupCanvas.height = 280;
                        backupCanvas.style.position = 'absolute';
                        backupCanvas.style.top = '0';
                        backupCanvas.style.left = '0';
                        backupCanvas.style.width = '100%';
                        backupCanvas.style.height = '100%';
                        backupCanvas.style.zIndex = '200';
                        
                        // Add it to the container
                        backupContainer.appendChild(backupCanvas);
                        
                        // Create the chart on this new canvas
                        const ctx = backupCanvas.getContext('2d');
                        new Chart(ctx, {
                            type: 'doughnut',
                            data: {
                                labels: ['Recycled Plastic', 'Recycled Paper', 'Composted', 'Repurposed', 'Donated'],
                                datasets: [{
                                    data: [32, 28, 22, 12, 6],
                                    backgroundColor: [
                                        '#2ecc71', 
                                        '#3498db', 
                                        '#9b59b6', 
                                        '#f1c40f', 
                                        '#e67e22'
                                    ],
                                    borderWidth: 0
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                cutout: '60%'
                            }
                        });
                        
                        // Hide the fallback image
                        document.querySelector('.distribution-fallback').style.display = 'none';
                    }
                }
            } catch (error) {
                console.error('Error refreshing charts:', error);
            }
        });
    </script>

    <script>
        // Final failsafe - if the distribution chart is still not visible after 2 seconds
        setTimeout(function() {
            // Check if any of our distribution chart elements are visible
            const canvas = document.getElementById('standaloneImpactChart');
            const backupCanvas = document.getElementById('backupDistributionChart');
            const fallbackImg = document.querySelector('.distribution-fallback');
            const staticFallback = document.querySelector('.static-fallback');
            
            // Force something to be visible
            if (canvas && window.getComputedStyle(canvas).opacity !== '1' && 
                (!backupCanvas || window.getComputedStyle(backupCanvas).opacity !== '1') &&
                (!fallbackImg || window.getComputedStyle(fallbackImg).display === 'none')) {
                console.log('No distribution chart visible after timeout, showing static fallback');
                
                // Show static fallback as last resort
                if (staticFallback) {
                    staticFallback.style.display = 'block';
                    staticFallback.style.opacity = '1';
                    staticFallback.style.visibility = 'visible';
                    staticFallback.style.zIndex = '1000';
                }
            }
        }, 2000);
    </script>
</body>
</html> 